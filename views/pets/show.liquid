{% layout 'layout.liquid' %}
{% block content %}
      <div class="container-md">
        <div class="row justify-content-between">
        <article class="col-5">
          <h2>{{pet.name}}</h2>
          <h4>{{pet.name}} is a {{pet.type}}</h4>
          <h4>The color of {{pet.name}} is {{pet.color}}</h4>
            <div class="colorBox" style="background-color: {{pet.color}}"></div>
        </article>
        </div>
    {% if pet.owner == userId %}
      <hr>
      <div class="btn-group">
        <a href="/pets/edit/{{pet.id}}" class="btn btn-primary">Edit {{pet.name}}</a>
        <form action="/pets/{{pet.id}}?_method=DELETE" method="POST">
          <input type="submit" class="btn btn-danger" value="Delete {{pet.name}}">
        </form>
      </div>
    {% endif %}
      <hr>
      <h3>Ratings:</h3>
      <hr>
      {% if loggedIn %}
          <div class="col-md-6">
            <form action="/ratings/{{pet.id}}" method="POST">
              <fieldset>
                <legend>Add Rating</legend>
                <label class="form-label">Rating</label>
                <input type="number" name="rating" class="form-control mb-1">
              </fieldset>
              <input type="submit" class="btn btn-success" value="Add Rating">
            </form>
          </div>
      {% else %}
          <div class="col-md-6">  
            <small>If you would like to rate pets, please log in...</small>
          </div>
      {% endif %}
      <hr>
      {% if pet.ratings.length > 0 %}
        <div class="container-sm justify-content-center">
          {% for rating in pet.ratings %}
            {% render '../rating.liquid', rating: rating, userId: userId, pet: pet %}
          {% endfor %}
        </div>
      {% else %}
          <small>No Ratings yet... go create some!</small>
      {% endif %}
    </div>
{% endblock %}